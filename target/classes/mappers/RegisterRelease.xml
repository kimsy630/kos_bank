<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace = "spring.mvc.teamProject.persistence.RegisterReleaseDAO">
	<insert id="insertAccount" parameterType="spring.mvc.teamProject.vo.AccountVO">
		INSERT INTO account_info(account,ID,accountPW)
		VALUES('33'||'-'||'01'||'-'||LPAD(SEQ_ACCOUNT.NEXTVAL, 6, 0),#{id},#{accountPW})
	</insert>
	
	<update id ="deleteAccount" parameterType="java.util.Map">
		UPDATE account_info
		SET accountState='해지'
		WHERE accountPW=#{accountPW} AND id=#{id}
	</update>
	
	<select id="selectById" resultType="spring.mvc.teamProject.vo.AccountVO" parameterType="String">
  		select account, ID, accountPW, Balance, accountType, accountState, accountLimit
  		 from account_info
  		 where id = #{id}   		 
  	</select>
  	
  	<select id="selectNomalById" resultType="spring.mvc.teamProject.vo.AccountVO" parameterType="String">
  		SELECT *
  		FROM account_info
    	WHERE id=#{id} AND accountState='정상'	 
  	</select>
  	
  	<select id="AccountPwdCheck" parameterType="String" resultType="int">
  		SELECT accountPW 
  		FROM account_info 
  		WHERE id = #{id}
  	</select>
</mapper>