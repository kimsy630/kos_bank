<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace = "spring.mvc.teamProject.persistence.FinancialProductsDAO">
	
	<!-- ============================================================================ -->
	<!-- 박서하 -->
	<select id="getLoanCount" resultType="int"> <!-- 대출상품 조회 -->
		SELECT COUNT(*)
		FROM Loans_product
	</select>
	
	<select id="getLoanList" resultType="spring.mvc.teamProject.vo.Loans_productVO"> <!-- 대출상품 조회 -->
		SELECT d_name, d_summary, d_max_price
		 FROM Loans_product
	</select>
	
	<select id="getLoanDetail" resultType="spring.mvc.teamProject.vo.Loans_productVO"> <!-- 대출상품 상세조회 -->
		SELECT d_name, d_summary, d_min_date, d_max_date, d_interest_rate, d_min_price, d_max_price, d_explanation1, d_explanation2, d_explanation3
		 FROM Loans_product
		 WHERE d_name=#{d_name}
	</select>
	<!-- ============================================================================ -->
	
	<select id="selectById" resultType="spring.mvc.teamProject.vo.AccountVO" >
		 select *
		 from account_info
         where id = #{id} AND accountType = '입출금' AND accountState = '정상'
	</select>
	
	<select id="getSavingsList" resultType="spring.mvc.teamProject.vo.SavingsVO">
		select * from savings_product
	</select>
	
	<select id="getDepositList" resultType="spring.mvc.teamProject.vo.DepositVO">
		select * from deposit_product
	</select>
	
	<select id="getSavingsDetail" resultType="spring.mvc.teamProject.vo.SavingsVO">
		select * 
		from savings_product
		where j_name = #{j_name}
	</select>
	
	<select id="getDepositDetail" resultType="spring.mvc.teamProject.vo.DepositVO">
		select * 
		from deposit_product
		where y_name = #{y_name}
	</select>
	
	<!--  
	<insert id="insertAccount" parameterType="spring.mvc.teamProject.vo.AccountVO">
      INSERT INTO account_info(account,ID,accountPW)
      VALUES('33'||'-'||'01'||'-'||LPAD(SEQ_ACCOUNT.NEXTVAL, 6, 0),#{id},#{accountPW})
   </insert>
	-->
		
</mapper>